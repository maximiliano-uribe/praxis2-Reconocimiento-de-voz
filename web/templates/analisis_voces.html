<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>An치lisis de Voz</title>
</head>
<body style="background:#2201ff;color:white;text-align:center;padding:30px;font-family:Arial;">
    <h1>游댉 An치lisis de Voz</h1>
    <p>Visualiza las transformadas de Fourier de tus grabaciones.</p>

    <button onclick="mostrarGrafica()">Mostrar gr치fica</button>
    <button onclick="cerrarGrafica()">Cerrar gr치fica</button>

    <div id="grafica" style="margin-top:20px;"></div>

    <script>
        async function mostrarGrafica() {
            const res = await fetch("/graficas_voces");
            const data = await res.json();
            let html = "";

            if (data.length === 0) {
                html = "<p>No hay grabaciones guardadas para mostrar.</p>";
            } else {
                data.forEach(item => {
                    html += `
                        <h3>${item.archivo}</h3>
                        <h4>Onda temporal</h4>
                        <img src="data:image/png;base64,${item.onda}" width="500"><br>
                        <h4>Transformada de Fourier (FFT)</h4>
                        <img src="data:image/png;base64,${item.fft}" width="500"><br><br>
                    `;
                });
            }

            document.getElementById("grafica").innerHTML = html;
        }

        function cerrarGrafica() {
            document.getElementById("grafica").innerHTML = "";
        }
    </script>

    <p><a href="/" style="color:#4CAF50;">拘勇 Volver al panel principal</a></p>
</body>
</html>
